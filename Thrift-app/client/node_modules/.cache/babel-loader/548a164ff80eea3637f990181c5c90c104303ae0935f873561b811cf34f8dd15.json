{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cshin\\\\OneDrive\\\\Documents\\\\GitHub\\\\IS_proj1\\\\Thrift-app\\\\client\\\\src\\\\Components\\\\Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Button from './Button';\nimport { GlobalContext } from './ContextWrapper.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Form({\n  formData,\n  button_data,\n  id,\n  dest_url\n}) {\n  _s();\n  const contextData = useContext(GlobalContext);\n  const {\n    handleUpdate\n  } = contextData || {};\n  const navigate = useNavigate();\n  const [formValues, setFormValues] = useState(() => {\n    const initialValues = {};\n    formData.forEach(field => {\n      initialValues[field.name] = '';\n    });\n    return initialValues;\n  });\n  const [selectedFile, setSelectedFile] = useState(null);\n  const url = `http://localhost:5000/${dest_url}`;\n  const method = 'POST';\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const SentData = new FormData();\n    for (const key in formValues) {\n      SentData.append(key, formValues[key]);\n    }\n    if (selectedFile) {\n      SentData.append(\"image\", selectedFile);\n    }\n    try {\n      const response = await fetch(url, {\n        method,\n        body: SentData,\n        credentials: 'include'\n      });\n      const data = await response.json();\n      if (response.ok) {\n        if (data.redirect) {\n          if (data.redirect === \"/Dashboard\" && handleUpdate) {\n            handleUpdate({\n              myData: data.myData,\n              loggedIn: true\n            });\n          }\n          navigate(data.redirect);\n        }\n        alert(data.message || 'Operation successful!');\n      } else {\n        alert(data.message || 'Operation failed.');\n      }\n    } catch (error) {\n      console.error('Network or client-side error:', error);\n      alert('A network error occurred. Please try again.');\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValues(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    var _e$target$files;\n    setSelectedFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    id: id || '',\n    className: \"form-container\",\n    children: [formData.map(field => {\n      if (field.type === 'file') {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: field.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: field.name,\n            accept: field.accept || '*/*',\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, field.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this);\n      } else if (field.type === 'select') {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: field.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: field.name,\n            value: formValues[field.name],\n            onChange: handleInputChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"Select an option\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), field.options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.value\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, field.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: field.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: field.type,\n            name: field.name,\n            placeholder: field.placeholder,\n            value: formValues[field.name],\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)]\n        }, field.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this);\n      }\n    }), button_data && /*#__PURE__*/_jsxDEV(Button, {\n      className: button_data.className,\n      type: button_data.type,\n      label: button_data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(Form, \"nGvN1gCpgvVstwX7FhVrhgGcQQ0=\", false, function () {\n  return [useNavigate];\n});\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","Button","GlobalContext","jsxDEV","_jsxDEV","Form","formData","button_data","id","dest_url","_s","contextData","handleUpdate","navigate","formValues","setFormValues","initialValues","forEach","field","name","selectedFile","setSelectedFile","url","method","handleSubmit","event","preventDefault","SentData","FormData","key","append","response","fetch","body","credentials","data","json","ok","redirect","myData","loggedIn","alert","message","error","console","handleInputChange","e","value","target","prev","handleFileChange","_e$target$files","files","onSubmit","className","children","map","type","label","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","disabled","options","option","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/Cshin/OneDrive/Documents/GitHub/IS_proj1/Thrift-app/client/src/Components/Form.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Button from './Button';\r\nimport { GlobalContext } from './ContextWrapper.js';\r\n\r\nfunction Form({ formData, button_data, id, dest_url }) {\r\n  const contextData = useContext(GlobalContext);\r\n  const { handleUpdate } = contextData || {};\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [formValues, setFormValues] = useState(() => {\r\n    const initialValues = {};\r\n    formData.forEach(field => {\r\n      initialValues[field.name] = '';\r\n    });\r\n    return initialValues;\r\n  });\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const url = `http://localhost:5000/${dest_url}`;\r\n  const method = 'POST';\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const SentData = new FormData();\r\n\r\n    for (const key in formValues) {\r\n      SentData.append(key, formValues[key]);\r\n    }\r\n\r\n    if (selectedFile) {\r\n      SentData.append(\"image\", selectedFile);\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        method,\r\n        body: SentData,\r\n        credentials: 'include',\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        if (data.redirect) {\r\n          if (data.redirect === \"/Dashboard\" && handleUpdate) {\r\n            handleUpdate({ myData: data.myData, loggedIn: true });\r\n          }\r\n          navigate(data.redirect);\r\n        }\r\n        alert(data.message || 'Operation successful!');\r\n      } else {\r\n        alert(data.message || 'Operation failed.');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Network or client-side error:', error);\r\n      alert('A network error occurred. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setSelectedFile(e.target.files?.[0] || null);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} id={id || ''} className=\"form-container\">\r\n      {formData.map((field) => {\r\n        if (field.type === 'file') {\r\n          return (\r\n            <div key={field.key}>\r\n              <label>{field.label}</label>\r\n              <input\r\n                type=\"file\"\r\n                name={field.name}\r\n                accept={field.accept || '*/*'}\r\n                onChange={handleFileChange}\r\n              />\r\n            </div>\r\n          );\r\n        } else if (field.type === 'select') {\r\n          return (\r\n            <div key={field.key}>\r\n              <label>{field.label}</label>\r\n              <select name={field.name} value={formValues[field.name]} onChange={handleInputChange}>\r\n                <option value='' disabled>Select an option</option>\r\n                {field.options.map(option => (\r\n                  <option key={option.value} value={option.value}>{option.value}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          );\r\n        } else {\r\n          return (\r\n            <div key={field.key}>\r\n              <label>{field.label}</label>\r\n              <input\r\n                type={field.type}\r\n                name={field.name}\r\n                placeholder={field.placeholder}\r\n                value={formValues[field.name]}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n          );\r\n        }\r\n      })}\r\n      {button_data && (\r\n        <Button\r\n          className={button_data.className}\r\n          type={button_data.type}\r\n          label={button_data.label}\r\n        />\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
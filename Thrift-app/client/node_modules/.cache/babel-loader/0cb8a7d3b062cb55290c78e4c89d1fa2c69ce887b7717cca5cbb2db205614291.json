{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cshin\\\\OneDrive\\\\Documents\\\\GitHub\\\\IS_proj1\\\\Thrift-app\\\\client\\\\src\\\\Components\\\\Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Form({\n  formData,\n  dest_url\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [formValues, setFormValues] = useState(() => {\n    const initialValues = {};\n    formData.forEach(field => {\n      initialValues[field.name] = '';\n    });\n    return initialValues;\n  });\n  const [selectedFile, setSelectedFile] = useState(null);\n  const url = `http://localhost:5000/${dest_url}`;\n  const method = 'POST';\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const SentData = new FormData();\n    for (const key in formValues) {\n      SentData.append(key, formValues[key]);\n    }\n    if (selectedFile) {\n      SentData.append(\"image\", selectedFile);\n    }\n    try {\n      const response = await fetch(url, {\n        method,\n        body: SentData,\n        credentials: 'include'\n      });\n      const data = await response.json();\n      if (response.ok) {\n        if (data.redirect) navigate(data.redirect);\n        alert(data.message || 'Operation successful!');\n      } else {\n        alert(data.message || 'Operation failed.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Network error, try again.');\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValues(prevValues => ({\n      ...prevValues,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    if (e.target.files && e.target.files[0]) {\n      setSelectedFile(e.target.files[0]);\n    } else {\n      setSelectedFile(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    id: dest_url.includes('login') ? 'login-form' : 'register-form',\n    className: \"form-container\",\n    children: formData.map(field => field.type === 'file' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: field.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: field.name,\n        accept: field.accept || '*/*',\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, field.key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: field.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: field.type,\n        name: field.name,\n        value: formValues[field.name],\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)]\n    }, field.key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(Form, \"8YoFQXiS6++8bjh0LLH+d3aL2v4=\", false, function () {\n  return [useNavigate];\n});\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","Form","formData","dest_url","_s","navigate","formValues","setFormValues","initialValues","forEach","field","name","selectedFile","setSelectedFile","url","method","handleSubmit","event","preventDefault","SentData","FormData","key","append","response","fetch","body","credentials","data","json","ok","redirect","alert","message","error","console","handleInputChange","e","value","target","prevValues","handleFileChange","files","onSubmit","id","includes","className","children","map","type","label","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Cshin/OneDrive/Documents/GitHub/IS_proj1/Thrift-app/client/src/Components/Form.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Form({ formData, dest_url }) {\r\n  const navigate = useNavigate();\r\n\r\n  const [formValues, setFormValues] = useState(() => {\r\n    const initialValues = {};\r\n    formData.forEach(field => {\r\n      initialValues[field.name] = '';\r\n    });\r\n    return initialValues;\r\n  });\r\n\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const url = `http://localhost:5000/${dest_url}`;\r\n  const method = 'POST';\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const SentData = new FormData();\r\n    for (const key in formValues) {\r\n      SentData.append(key, formValues[key]);\r\n    }\r\n\r\n    if (selectedFile) {\r\n      SentData.append(\"image\", selectedFile);\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        method,\r\n        body: SentData,\r\n        credentials: 'include',\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        if (data.redirect) navigate(data.redirect);\r\n        alert(data.message || 'Operation successful!');\r\n      } else {\r\n        alert(data.message || 'Operation failed.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('Network error, try again.');\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues(prevValues => ({\r\n      ...prevValues,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setSelectedFile(e.target.files[0]);\r\n    } else {\r\n      setSelectedFile(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      id={dest_url.includes('login') ? 'login-form' : 'register-form'}\r\n      className=\"form-container\"\r\n    >\r\n      {formData.map((field) =>\r\n        field.type === 'file' ? (\r\n          <div key={field.key}>\r\n            <label>{field.label}</label>\r\n            <input\r\n              type=\"file\"\r\n              name={field.name}\r\n              accept={field.accept || '*/*'}\r\n              onChange={handleFileChange}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div key={field.key}>\r\n            <label>{field.label}</label>\r\n            <input\r\n              type={field.type}\r\n              name={field.name}\r\n              value={formValues[field.name]}\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n        )\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
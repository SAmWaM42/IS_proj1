{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\IS_PROJ1\\\\IS_proj1\\\\Thrift-app\\\\client\\\\src\\\\Components\\\\ContextWrapper.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useCallback, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/createContext();\nexport const ContextFile = ({\n  children\n}) => {\n  _s();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [gottenSelf, setGottenSelf] = useState(false);\n  const [cartVisible, setCartVisible] = useState(false);\n  const getSelf = useCallback(async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/user/me\", {\n        credentials: 'include'\n      });\n      if (!response.ok) {\n        throw new Error(\"fetch self failed\");\n      }\n      if (response) {\n        setLoggedIn(true);\n      }\n    } catch (err) {\n      console.error(\"error validating self\", err.message);\n    } finally {\n      setGottenSelf(true);\n    }\n  }, []);\n  useEffect(() => {\n    getSelf();\n  }, []);\n  const contextData = {\n    cartVisible,\n    setCartVisible,\n    loggedIn\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: contextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(ContextFile, \"nBZQoG/fGU06vgLbX7zYBE8JqEM=\");\n_c = ContextFile;\nvar _c;\n$RefreshReg$(_c, \"ContextFile\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useCallback","useContext","jsxDEV","_jsxDEV","Context","ContextFile","children","_s","loggedIn","setLoggedIn","gottenSelf","setGottenSelf","cartVisible","setCartVisible","getSelf","response","fetch","credentials","ok","Error","err","console","error","message","contextData","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/IS_PROJ1/IS_proj1/Thrift-app/client/src/Components/ContextWrapper.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useCallback, useContext } from 'react';\r\n\r\nconst Context=createContext();\r\nexport const ContextFile=({children})=>\r\n{\r\n    const [loggedIn,setLoggedIn]=useState(false);\r\n    const [gottenSelf,setGottenSelf]=useState(false);\r\n    const [cartVisible,setCartVisible]= useState(false);\r\n    \r\n\r\n    const getSelf=useCallback(async ()=>\r\n    {\r\n      try\r\n      {\r\n        const response=await fetch(\"http://localhost:5000/user/me\",{credentials:'include'})\r\n        if(!response.ok)\r\n        {\r\n          throw new Error(\"fetch self failed\");\r\n        }\r\n\r\n        if(response)\r\n        {\r\n          setLoggedIn(true);\r\n        }\r\n\r\n      }\r\n      catch(err)\r\n      {\r\n            console.error(\"error validating self\",err.message);\r\n      }\r\n      finally\r\n      {\r\n        setGottenSelf(true);\r\n      }\r\n\r\n    },[]);\r\n    useEffect(()=>{\r\n        getSelf();\r\n    },[])\r\n    const contextData=\r\n    {\r\n        cartVisible,\r\n        setCartVisible,\r\n        loggedIn\r\n\r\n    }\r\n\r\n    return(\r\n        <Context.Provider value={contextData}>\r\n            {children}\r\n     </Context.Provider>\r\n\r\n    );\r\n\r\n\r\n\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3F,MAAMC,OAAO,gBAACP,aAAa,CAAC,CAAC;AAC7B,OAAO,MAAMQ,WAAW,GAACA,CAAC;EAACC;AAAQ,CAAC,KACpC;EAAAC,EAAA;EACI,MAAM,CAACC,QAAQ,EAACC,WAAW,CAAC,GAACX,QAAQ,CAAC,KAAK,CAAC;EAC5C,MAAM,CAACY,UAAU,EAACC,aAAa,CAAC,GAACb,QAAQ,CAAC,KAAK,CAAC;EAChD,MAAM,CAACc,WAAW,EAACC,cAAc,CAAC,GAAEf,QAAQ,CAAC,KAAK,CAAC;EAGnD,MAAMgB,OAAO,GAACd,WAAW,CAAC,YAC1B;IACE,IACA;MACE,MAAMe,QAAQ,GAAC,MAAMC,KAAK,CAAC,+BAA+B,EAAC;QAACC,WAAW,EAAC;MAAS,CAAC,CAAC;MACnF,IAAG,CAACF,QAAQ,CAACG,EAAE,EACf;QACE,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;MACtC;MAEA,IAAGJ,QAAQ,EACX;QACEN,WAAW,CAAC,IAAI,CAAC;MACnB;IAEF,CAAC,CACD,OAAMW,GAAG,EACT;MACMC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAACF,GAAG,CAACG,OAAO,CAAC;IACxD,CAAC,SAED;MACEZ,aAAa,CAAC,IAAI,CAAC;IACrB;EAEF,CAAC,EAAC,EAAE,CAAC;EACLZ,SAAS,CAAC,MAAI;IACVe,OAAO,CAAC,CAAC;EACb,CAAC,EAAC,EAAE,CAAC;EACL,MAAMU,WAAW,GACjB;IACIZ,WAAW;IACXC,cAAc;IACdL;EAEJ,CAAC;EAED,oBACIL,OAAA,CAACC,OAAO,CAACqB,QAAQ;IAACC,KAAK,EAAEF,WAAY;IAAAlB,QAAA,EAChCA;EAAQ;IAAAqB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAMxB,CAAC;AAAAvB,EAAA,CArDYF,WAAW;AAAA0B,EAAA,GAAX1B,WAAW;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}